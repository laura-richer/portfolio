---
import Button from '@/atoms/Button.astro'
const { title, slug, thumbnail } = Astro.props;
---

<div class="project-item">
  <figure class="project-item__image">
    <img class="project-item__image-el" src={thumbnail} alt={title} />
  </figure>

  <div class="project-item__content">
    <span class="h4 project-item__title">{title}</span>
    <Button tag="button" text="Read more" />
  </div>
</div>

<style lang="scss">
@import '../scss/resources/hover';

.project-item {
  $self: &;

  position: relative;
  overflow: hidden;
  cursor: pointer;

  &__content {
    position: absolute;
    top: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
    gap: var(--spacer-s);
    z-index: 10;

    :global(.no-touchevents) & {
      opacity: 0;
      transition: opacity var(--animation-speed) ease-in-out;
    }
  }

  &__image {
    transition: scale var(--animation-speed) ease-in-out;

    &:after {
      position: absolute;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: var(--color-black);
      opacity: 0;
      content: '';
      transition: opacity var(--animation-speed) ease-in-out;
    }
  }

  &__title {
    color: var(--color-white);
  }

  @include hover {
    #{$self}__content {
      opacity: 1;
    }

    #{$self}__image {
      scale: 1.05;

      &:after {
        opacity: 0.5;
      }
    }
  }
}
</style>
